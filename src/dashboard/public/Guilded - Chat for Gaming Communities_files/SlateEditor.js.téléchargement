(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{1526:function(e,t,a){"use strict";var o=a(0);a(8),a(432),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,l,s,d,u,c,p=o(a(5)),f=o(a(17)),h=o(a(10)),b=o(a(4)),y=(o(a(11)),o(a(123))),g=o(a(35)),m=o(a(371)),v=o(a(149)),P=o(a(1277)),O=o(a(922)),T=o(a(5084)),E=o(a(9)),w=o(a(2)),C=a(1),S=a(3);a(5662);var k=(r=C.observable.ref,n=C.observable.struct,(0,O.default)(i=(0,g.default)(i=(0,S.observer)((l=class extends w.default.Component{constructor(...e){super(...e),(0,h.default)(this,"slateEditor",s,this),(0,h.default)(this,"embedStackUrls",d,this),this.reactions=[{dataFn:()=>{var e,t,a,o;return!!(null===(e=this.slateEditor)||void 0===e?void 0:null===(t=e.editor)||void 0===t?void 0:null===(a=t.isContentEmbedStackPluginEnabled)||void 0===a?void 0:a.call(t))&&(null===(o=this.slateEditor)||void 0===o?void 0:o.value)},reaction:e=>this._setEmbedStackedUrlsDebounced(e)}],(0,h.default)(this,"_setEmbedStackedUrls",u,this),this._setEmbedStackedUrlsDebounced=y.default.Debounce(this._setEmbedStackedUrls,200),(0,h.default)(this,"_handleSlateEditorRef",c,this),this.clear=()=>this.slateEditor.clear(),this.getRaw=()=>this.slateEditor.toJSON(),this.getValue=()=>({value:this.slateEditor.toJSON()}),this.getSelectedValue=()=>({value:this.slateEditor.toJSON(!0)}),this.hasPendingUploads=()=>this.slateEditor.hasPendingUploads(),this.replaceMentionsWithText=e=>this.slateEditor.replaceMentionsWithText(e),this.submit=e=>{this.slateEditor.submit(e)},this.getIsValid=()=>this.slateEditor.getIsValid(),this.appendValue=e=>{this.slateEditor.appendValue(e),this.slateEditor.scrollIntoView()},this.setValue=e=>{this.slateEditor.setValue(e),this.slateEditor.scrollIntoView()},this.focus=()=>this.slateEditor.focus(),this.insertText=e=>{this.slateEditor.insertText(e)}}get initialValue(){return this.props.initialValue}get initialValueObj(){return(0,C.toJS)(this.initialValue)}get hasChanged(){return!m.default.DeepEqualSimpleJsonObjs(this.initialValueObj,this.slateEditor.jsonValue)}get isEmpty(){return!this.slateEditor||this.slateEditor.isEmpty}get shouldRenderContentEmbedStack(){return this.embedStackUrls.length>0}get selectedCustomReactionId(){return this.slateEditor.selectedCustomReactionId}set selectedCustomReactionId(e){this.slateEditor.selectedCustomReactionId=e}render(){const{className:e,inputSize:t,size:a,type:o,onClick:r}=this.props,{initialValueObj:n}=this;return(0,p.default)(w.default.Fragment,{},void 0,(0,p.default)("div",{className:(0,E.default)("Editor-container",o&&"Editor-container-type-".concat(o),e),onClick:r},void 0,w.default.createElement(T.default,(0,f.default)({ref:this._handleSlateEditorRef,initialValue:n},this.props,{className:null,size:t||a}))),this.shouldRenderContentEmbedStack&&(0,p.default)(P.default,{urls:this.embedStackUrls}))}},s=(0,b.default)(l.prototype,"slateEditor",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=(0,b.default)(l.prototype,"embedStackUrls",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=(0,b.default)(l.prototype,"_setEmbedStackedUrls",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.embedStackUrls=e?v.default.GetEmbedStackUrls({value:e}):[]}}}),c=(0,b.default)(l.prototype,"_handleSlateEditorRef",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.slateEditor=e}}),(0,b.default)(l.prototype,"initialValue",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"initialValue"),l.prototype),(0,b.default)(l.prototype,"initialValueObj",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"initialValueObj"),l.prototype),(0,b.default)(l.prototype,"hasChanged",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"hasChanged"),l.prototype),(0,b.default)(l.prototype,"isEmpty",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"isEmpty"),l.prototype),(0,b.default)(l.prototype,"shouldRenderContentEmbedStack",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"shouldRenderContentEmbedStack"),l.prototype),(0,b.default)(l.prototype,"selectedCustomReactionId",[C.computed],Object.getOwnPropertyDescriptor(l.prototype,"selectedCustomReactionId"),l.prototype),i=l))||i)||i)||i);t.default=k},4200:function(e,t,a){var o=a(6),r=a(4201);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},4201:function(e,t,a){(t=a(7)(!1)).push([e.i,".ContentEditableInput-container{position:relative;min-height:22px}.ContentEditableInput-container-scroll{overflow:hidden;overflow-y:scroll;overflow-y:overlay}.ContentEditableInput-input,.ContentEditableInput-actual-text-display{outline:none;color:#fff;max-height:110px}.ContentEditableInput-placeholder-text{font-size:14px;line-height:19px;color:#a3a3ac;position:absolute;pointer-events:none;top:0px}.ContentEditableInput-light .ContentEditableInput-input{color:#3b3638}.ContentEditableInput-light .ContentEditableInput-placeholder-text{color:#b9bbbd}.ContentEditableInput-container-size-md-lg .ContentEditableInput-input,.ContentEditableInput-container-size-md-lg .ContentEditableInput-actual-text-display,.ContentEditableInput-container-size-md-lg .ContentEditableInput-placeholder-text{font-size:18px;line-height:24px;color:#fff;margin:0;padding:0;font-weight:bold;min-height:24px}.ContentEditableInput-container-size-md-lg .ContentEditableInput-placeholder-text{color:#a3a3ac}.ContentEditableInput-container-size-lg .ContentEditableInput-input,.ContentEditableInput-container-size-lg .ContentEditableInput-actual-text-display,.ContentEditableInput-container-size-lg .ContentEditableInput-placeholder-text{min-height:38px;font-weight:bold;line-height:38px;font-size:28px}.ContentEditableInput-container-size-lg.ContentEditableInput-container-mobile .ContentEditableInput-input,.ContentEditableInput-container-size-lg.ContentEditableInput-container-mobile .ContentEditableInput-actual-text-display,.ContentEditableInput-container-size-lg.ContentEditableInput-container-mobile .ContentEditableInput-placeholder-text{font-size:22px;line-height:28px;color:#fff;margin:0;padding:0;font-weight:bold;min-height:28px}.ContentEditableInput-ellipsify{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",streamGradient:"linear-gradient(63.5deg, red -29.74%, #b258ff 83.36%)"},e.exports=t},4644:function(e,t,a){"use strict";var o=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,l=o(a(5)),s=o(a(17)),d=o(a(4)),u=o(a(5583)),c=o(a(2)),p=o(a(346)),f=a(3),h=a(1),b=o(a(9));a(5586);const y=[];var g=(r=h.computed.struct,(0,f.observer)((i=class e extends c.default.Component{get plugins(){return this.props.plugins}get readOnly(){return this.props.readOnly}get filteredPlugins(){const{plugins:e,readOnly:t}=this;return[...e].filter(e=>!!t==!!e.onlyLoadWhenReadOnly)}get maxMainPluginsToDisplay(){return this.props.maxMainPluginsToDisplay}get mainPlugins(){const{maxMainPluginsToDisplay:e}=this;return e?this.filteredPlugins.slice(0,e):this.filteredPlugins}get overflowPlugins(){const{maxMainPluginsToDisplay:e}=this;return e?this.filteredPlugins.slice(e):[]}get mainPluginsByGroup(){return this.mainPlugins.reduce((e,t,a)=>{const{iconGroup:o}=t.toolbarInfo;return e[o]||(e[o]=[]),e[o].push(t),e},{})}render(){const{activeMarkTypes:t,activeBlockTypes:a,editor:o,overlayProvider:r,className:n,dynamicMediaType:i}=this.props,{overflowPlugins:d,mainPluginsByGroup:f}=this;return(0,l.default)("div",{className:(0,b.default)("SlateToolbarStrip",n)},void 0,Object.entries(f).map(([e,n])=>(0,l.default)("div",{className:(0,b.default)("SlateToolbarStrip-iconGroup","SlateToolbarStrip-iconGroup-".concat(e))},e,n.map(({toolbarInfo:e,type:n})=>{const l=e.iconComponent||u.default;return c.default.createElement(l,(0,s.default)({className:"SlateToolbarStrip-icon",key:e.tooltip,type:n,dynamicMediaType:i},e,{editor:o,overlayProvider:r,isActive:t[n]||a[n]}))}))),!!d.length&&c.default.createElement(p.default,(0,s.default)({},this.props,{component:e,dynamicMediaType:i,className:"SlateToolbarStrip-overflow-icon",iconName:"icon-overflow",usePortal:!0,plugins:d,overflowPlugins:y})))}},(0,d.default)(i.prototype,"plugins",[r],Object.getOwnPropertyDescriptor(i.prototype,"plugins"),i.prototype),(0,d.default)(i.prototype,"readOnly",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"readOnly"),i.prototype),(0,d.default)(i.prototype,"filteredPlugins",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"filteredPlugins"),i.prototype),(0,d.default)(i.prototype,"maxMainPluginsToDisplay",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"maxMainPluginsToDisplay"),i.prototype),(0,d.default)(i.prototype,"mainPlugins",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"mainPlugins"),i.prototype),(0,d.default)(i.prototype,"overflowPlugins",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"overflowPlugins"),i.prototype),(0,d.default)(i.prototype,"mainPluginsByGroup",[h.computed],Object.getOwnPropertyDescriptor(i.prototype,"mainPluginsByGroup"),i.prototype),n=i))||n);t.default=g},4645:function(e,t,a){"use strict";var o=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,l,s=o(a(10)),d=o(a(4)),u=(o(a(11)),o(a(20))),c=a(1);var p=new(r=class{constructor(){(0,s.default)(this,"activePortalId",n,this),(0,s.default)(this,"requestPortalId",i,this),(0,s.default)(this,"clearPortalId",l,this)}},n=(0,d.default)(r.prototype,"activePortalId",[c.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=(0,d.default)(r.prototype,"requestPortalId",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=u.default.rstr();return this.activePortalId=e,e}}}),l=(0,d.default)(r.prototype,"clearPortalId",[c.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&this.activePortalId!==e||(this.activePortalId=null)}}}),r);t.default=p},4698:function(e,t,a){"use strict";var o=a(0);a(8),a(432),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i=o(a(5)),l=o(a(4)),s=o(a(1562)),d=o(a(922)),u=o(a(307)),c=o(a(5084)),p=o(a(9)),f=o(a(2)),h=a(1),b=a(3);var y=(0,d.default)(r=(0,u.default)(r=(0,b.observer)((n=class extends f.default.Component{constructor(...e){super(...e),this._handleSlateEditorRef=e=>this.slateEditor=e,this.clear=()=>this.slateEditor.clear(),this.getRaw=()=>this.slateEditor.toJSON(),this.getSelectedRaw=()=>this.slateEditor.toJSON(!0),this._handleReply=e=>{const{id:t}=this.contentContext;return this.onReply({message:e,replyId:t})}}get message(){return this.props.message}get messageObj(){return(0,h.toJS)(this.message)}get onReply(){const{onReply:e}=this.props,{onReply:t}=this.repliesContext,{onReply:a}=this.contentContext;return e||t||a}render(){const{className:e,inputSize:t,size:a,theme:o,useSkeleton:r,hideToolbar:n,forceObscureImages:l}=this.props,{messageObj:d,onReply:u}=this;return(0,i.default)("div",{className:(0,p.default)("RichTextDisplay-container",e)},void 0,f.default.createElement(c.default,{ref:this._handleSlateEditorRef,initialValue:d,onReply:u?this._handleReply:null,readOnly:!0,size:t||a,theme:o,hideToolbar:n,forceObscureImages:l}),!d&&r&&(0,i.default)(s.default,{}))}},(0,l.default)(n.prototype,"message",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"message"),n.prototype),(0,l.default)(n.prototype,"messageObj",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"messageObj"),n.prototype),(0,l.default)(n.prototype,"onReply",[h.computed],Object.getOwnPropertyDescriptor(n.prototype,"onReply"),n.prototype),r=n))||r)||r)||r;t.default=y},4957:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={TopNavbar:"MobileSlideNavControllerTopNavbarPortal",BottomNavbar:"MobileSlideNavControllerBottomNavbarPortal",BottomContent:"MobileSlideNavControllerBottomContentPortal"}},5084:function(e,t,a){"use strict";var o=a(0),r=a(18);a(8),a(432),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(a(17)),i=o(a(5)),l=a(12),s=o(a(10)),d=o(a(4)),u=(o(a(11)),o(a(5570))),c=o(a(103)),p=o(a(123)),f=a(27),h=o(a(31)),b=o(a(56)),y=o(a(5571)),g=o(a(110)),m=a(109),v=o(a(22)),P=o(a(323)),O=o(a(5577)),T=o(a(705)),E=r(a(83)),w=o(a(5578)),C=o(a(922)),S=o(a(5594)),k=o(a(867)),x=o(a(21)),M=o(a(19)),I=o(a(222)),D=o(a(89)),_=o(a(307)),R=o(a(1357)),j=o(a(1304)),N=o(a(920)),B=o(a(149)),z=a(1268),G=o(a(16)),V=o(a(34)),A=o(a(9)),W=o(a(2)),U=a(1),F=a(3),J=a(5779),H=a(76),K=o(a(26)),L=o(a(117)),Y=o(a(35));let q;var Q,X,Z,$,ee,te,ae,oe,re,ne,ie,le,se,de,ue,ce,pe,fe,he,be,ye,ge,me,ve;a(1413);let Pe=0;H.KeyUtils.setGenerator(()=>"".concat(Pe++));let Oe=(Q=(0,h.default)([f.SimpleFormOverlay]),(0,_.default)(X=(0,M.default)(X=Q(X=class extends J.Editor{})||X)||X)||X);var Te=(Z=U.observable.ref,$=U.observable.ref,ee=U.observable.ref,te=U.computed.struct,ae=U.computed.struct,(0,F.observer)(oe=(0,Y.default)(oe=(0,V.default)(oe=(0,j.default)(oe=(0,_.default)(oe=(0,C.default)(oe=(0,P.default)(oe=(0,b.default)(oe=(0,M.default)(oe=(0,x.default)(oe=(0,D.default)(oe=(0,u.default)((q=D.default.Listeners,re=class extends W.default.Component{constructor(...e){var t;super(...e),t=this,this[q]=[{event:I.default.TeamContentOperationsApplied,action:e=>this._handleContentOperation(e)},{event:[g.default.TeamChannelContentReplyUpdated,I.default.TeamContentReplaced],action:e=>this._handleContentReplacement(e)}],(0,s.default)(this,"editor",ne,this),(0,s.default)(this,"value",ie,this),(0,s.default)(this,"_basePlugins",le,this),(0,s.default)(this,"selectedCustomReactionId",se,this),this.reactions=[{dataFn:()=>this.isEmpty,reaction:e=>{const{onTextEntered:t,onTextEmptied:a}=this.props;e?a&&a():t&&t()}},{dataFn:()=>this.props.readOnly&&this.props.initialValue,reaction:e=>e&&(this.value=H.Value.fromJSON(e)),fireImmediately:!1}],(0,s.default)(this,"setEditorRef",de,this),(0,s.default)(this,"addRenderedPlugin",ue,this),(0,s.default)(this,"clear",ce,this),(0,s.default)(this,"replaceMentionsWithText",pe,this),this.toJSON=e=>{var t,a;const{value:o}=this;return null===(t=(a=this.editor).sanitize)||void 0===t||t.call(a),e&&o.selection.isExpanded?H.Value.create({document:o.fragment}).toJSON():this.jsonValue},this.hasPendingUploads=()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.hasPendingUploads()},this.focus=(0,l.coroutine)((function*(){var e;yield(0,E.requestAnimationFrameAsync)(),null===(e=t.editor)||void 0===e||e.moveToEndOfDocument().focus()})),this.insertText=e=>{var t;null===(t=this.editor)||void 0===t||t.insertText(e)},this._handleContentOperation=e=>{this._shouldApplyUpdate(e)&&e.operations.forEach(e=>{var t;null===(t=this.editor)||void 0===t||t.applyOperation(e)})},this.submit=e=>{var t;null===(t=this.editor)||void 0===t||t.submit(e)},this.getIsValid=()=>{var e;return null===(e=this.editor)||void 0===e?void 0:e.getIsValid()},(0,s.default)(this,"_handleContentReplacement",fe,this),this._shouldApplyUpdate=e=>{const{type:t,id:a,isContentReply:o}=this.contentContext;return t===e.contentType&&a&&a.toString()===e.contentId.toString()&&!!o==!!e.isContentReply&&e.guildedClientId!==m.GuildedClientId},(0,s.default)(this,"setValue",he,this),(0,s.default)(this,"appendValue",be,this),(0,s.default)(this,"_handleChange",ye,this),(0,s.default)(this,"_handleMentionChanges",ge,this),this._handleMentionChangesDebounced=p.default.Debounce(this._handleMentionChanges,350),this.GetMention=e=>{var t;return(null==e?void 0:e.size)>0?null===(t=e.first().toJSON())||void 0===t?void 0:t.mention:null},(0,s.default)(this,"_handleKeyDown",me,this),this._handleAddNeedsClick=e=>{e.target.classList.add("needsclick")},this._handleContainerRef=e=>this.container=e,this._onReactionClick=({reaction:e})=>{const{editor:t}=this,{type:a}=this.props;a===K.default.EditorTypes.Reaction?this.selectedCustomReactionId=e.id:t.insertReaction(e)},this._handleFocus=(e,t,a)=>{const{onFocus:o}=this.props;return null==o||o(),a()},this._handleBlur=(e,t,a)=>{const{onBlur:o}=this.props;return null==o||o(),a()},(0,s.default)(this,"_handleClear",ve,this),this.scrollIntoView=(0,l.coroutine)((function*(){yield E.default.ScrollToContainerCenter({target:t.container,container:t.ScrollContainer}),t.focus()})),this._handleSubmit=()=>this.editor.submit()}get readOnly(){return this.props.readOnly}get plugins(){const{readOnly:e,_basePlugins:t}=this;return e?[S.default,...t]:this._basePlugins.filter(e=>!e.onlyLoadWhenReadOnly)}get jsonValue(){return this.value.toJSON()}get isEmpty(){const{jsonValue:e}=this;return!!B.default.GetIsEmpty(e)}get renderedPlugins(){const{plugins:e}=this;return e.filter(e=>null==e?void 0:e.renderedPlugin).concat([{type:"submit-commands",renderedPlugin:O.default}])}get isAnyPluginOpen(){return this.plugins.some(e=>e.IsOpen)}get hasUnsavedChanges(){const{readOnly:e,shouldIgnoreUnsavedChanges:t}=this.props;return!e&&!t&&!B.default.GetIsEmpty(this.jsonValue)}get shouldForceContentEditable(){const{initialValue:e}=this.props;return!e&&G.default.IsAndroid}get placeholder(){return this.isEmpty?this.props.placeholder||"What do you want to post?":""}get hideToolbar(){const{hideToolbar:e,type:t}=this.props;return e||t===K.default.EditorTypes.Reaction}get showReactionsControl(){const{type:e,disableReactionsControl:t}=this.props;return!t&&[K.default.EditorTypes.Simple,K.default.EditorTypes.Reaction].includes(e)}get schema(){const{type:e}=this.props;return y.default[e||K.default.EditorTypes.Default]}componentDidMount(){const{readOnly:e,autoFocus:t}=this.props;var a;e||G.default.IsDesktop||(null===(a=this.container)||void 0===a||a.addEventListener("touchstart",this._handleAddNeedsClick));t&&this.focus()}componentWillUnmount(){var e;null===(e=this.container)||void 0===e||e.removeEventListener("touchstart",this._handleAddNeedsClick)}render(){const{className:e,readOnly:t,initialValue:a,onReply:o,size:r,unpadded:l,isExpanded:s,clearable:d,insertPlugins:u,type:c=K.default.EditorTypes.Default,theme:p=K.default.EditorThemes.Default,templateParameterTypeaheadOptions:f,hasMaxHeight:h=!0,forceMaxHeightForAllEditorTypes:b,showSendButton:y,typeaheadPortalId:g,forceObscureImages:m=!1}=this.props,{channelId:P}=this.teamChannelContext,{value:O,renderedPlugins:E,plugins:C,editor:S,shouldForceContentEditable:k,placeholder:x,hideToolbar:M,_handleClear:I,showReactionsControl:D,schema:_}=this;return k?(0,i.default)(N.default,{className:"SlateEditor-content-editable",placeholderClassName:"SlateEditor-content-editable-placeholder",inputClassName:"SlateEditor-content-editable-input",onChange:this._handleChange,allowNewlines:!0,isLight:!1,spellCheck:!0,placeholder:x}):(0,i.default)(R.default,{className:(0,A.default)("SlateEditor-container",!G.default.IsDesktop&&"SlateEditor-container-mobile",e,t&&"SlateEditor-container-read-only",c&&"SlateEditor-container-type-".concat(c),r&&"SlateEditor-container-size-".concat(r),"needsclick"),onGetRef:this._handleContainerRef,value:O,channelId:P,readOnly:t,type:c,size:r,theme:p,onReply:o,editor:S,templateParameterTypeaheadOptions:f,customReactionsMap:null==a?void 0:a.customReactionsMap,typeaheadPortalId:g,forceObscureImages:m},void 0,(0,i.default)(L.default,{context:"Slate rendered plugins"},void 0,S&&!t&&E.map(({type:e,renderedPlugin:t})=>W.default.createElement(t,(0,n.default)({key:e,ref:this.addRenderedPlugin,editor:S,size:r},this.props)))),!M&&(0,i.default)(w.default,{insertPlugins:u,plugins:C,onReply:o,size:r}),W.default.createElement(Oe,(0,n.default)({},this.props,{className:(0,A.default)("needsclick","SlateEditor-editor",l&&"SlateEditor-editor-unpadded",s&&"SlateEditor-editor-expanded",h&&"SlateEditor-editor-has-max-height",b&&"SlateEditor-editor-force-max-height",r&&"SlateEditor-editor-size-".concat(r)),readOnly:t&&!G.default.IsDesktop,ref:this.setEditorRef,placeholder:x,plugins:C,schema:_,value:O,onChange:this._handleChange,spellCheck:!t,onKeyDown:this._handleKeyDown,onFocus:this._handleFocus,onBlur:this._handleBlur})),D&&(0,i.default)(T.default,{wrapperClassName:"SlateEditor-reactions-control-wrapper",className:"SlateEditor-reactions-control",iconName:"icon-toolbar-emoji",selectedCustomReactionId:this.selectedCustomReactionId,portalAlignment:"up",onReactionClick:this._onReactionClick}),y&&(0,i.default)("div",{className:"SlateEditor-send-button"},void 0,(0,i.default)(v.default,{className:(0,A.default)("SlateEditor-send-icon",this.isEmpty&&"SlateEditor-send-icon-disabled"),iconName:"icon-chat-send",onClick:this._handleSubmit})),d&&(!this.isEmpty||this.selectedCustomReactionId)&&(0,i.default)("div",{className:"SlateEditor-clear-button"},void 0,(0,i.default)(v.default,{className:"SlateEditor-clear-icon",iconName:"icon-cancel-filled",onClick:I})))}},ne=(0,d.default)(re.prototype,"editor",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=(0,d.default)(re.prototype,"value",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.default.GetInitialValue(this.props)}}),le=(0,d.default)(re.prototype,"_basePlugins",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.EditorPluginsByEditorType[this.props.type||K.default.EditorTypes.Default]}}),se=(0,d.default)(re.prototype,"selectedCustomReactionId",[U.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.selectedCustomReactionId}}),de=(0,d.default)(re.prototype,"setEditorRef",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.editor=e}}}),ue=(0,d.default)(re.prototype,"addRenderedPlugin",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this._basePlugins=[e,...this._basePlugins].filter(Boolean)}}}),(0,d.default)(re.prototype,"readOnly",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"readOnly"),re.prototype),(0,d.default)(re.prototype,"plugins",[te],Object.getOwnPropertyDescriptor(re.prototype,"plugins"),re.prototype),(0,d.default)(re.prototype,"jsonValue",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"jsonValue"),re.prototype),(0,d.default)(re.prototype,"isEmpty",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"isEmpty"),re.prototype),(0,d.default)(re.prototype,"renderedPlugins",[ae],Object.getOwnPropertyDescriptor(re.prototype,"renderedPlugins"),re.prototype),(0,d.default)(re.prototype,"isAnyPluginOpen",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"isAnyPluginOpen"),re.prototype),ce=(0,d.default)(re.prototype,"clear",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.value=H.Value.create(),this.selectedCustomReactionId=null}}}),pe=(0,d.default)(re.prototype,"replaceMentionsWithText",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e=[])=>{var t;null===(t=this.editor)||void 0===t||t.convertAllInlinesToTextByType(K.default.NodeTypes.Mention,e.length?t=>e.some(({id:e,type:a})=>t.id===e&&t.type===a):void 0)}}}),fe=(0,d.default)(re.prototype,"_handleContentReplacement",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(!this._shouldApplyUpdate(e))return;let t;try{t=H.Value.fromJSON(e.message)}catch(e){}t&&(this.value=t)}}}),(0,d.default)(re.prototype,"hasUnsavedChanges",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"hasUnsavedChanges"),re.prototype),he=(0,d.default)(re.prototype,"setValue",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>e&&(this.value=H.Value.fromJSON(e))}}),be=(0,d.default)(re.prototype,"appendValue",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{if(e){const{isEmpty:t,jsonValue:a}=this;this.value=H.Value.fromJSON(B.default.MergeMessages([!t&&a,e].filter(Boolean)))}}}}),ye=(0,d.default)(re.prototype,"_handleChange",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{var t;const{value:a}=e,{shouldForceContentEditable:o}=this,{onChange:r,onSelectionChange:n}=this.props;this.value=o?B.default.GetSingleBlockValue({type:K.default.NodeTypes.Paragraph,nodes:[H.Text.create(e)]}):a,null==r||r(this.value.toJSON()),null==n||n(null===(t=this.value.selection)||void 0===t?void 0:t.toJSON()),this._handleMentionChangesDebounced(e)}}}),ge=(0,d.default)(re.prototype,"_handleMentionChanges",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onMentionsChange:t}=this.props;if(!c.default.PrivateMessages||!t)return;const a=e.value.document.getInlinesByType(K.default.NodeTypes.Mention),{haveMentionsChanged:o,mentionsByTypeId:r}=this.reconcileMentions({inlineMentions:a});o&&(null==t||t(r))}}}),me=(0,d.default)(re.prototype,"_handleKeyDown",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,a)=>{const{type:o,onSubmit:r,readOnly:n}=this.props;return!r||n||this.isAnyPluginOpen?a():k.default.OnKeyDown({type:o,event:e,editor:t,next:a,slateEditorInstance:this,onSubmit:r})}}}),(0,d.default)(re.prototype,"shouldForceContentEditable",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"shouldForceContentEditable"),re.prototype),ve=(0,d.default)(re.prototype,"_handleClear",[U.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const{clear:e,focus:t}=this,{onClear:a}=this.props;e(),null==a||a(),t()}}}),(0,d.default)(re.prototype,"placeholder",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"placeholder"),re.prototype),(0,d.default)(re.prototype,"hideToolbar",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"hideToolbar"),re.prototype),(0,d.default)(re.prototype,"showReactionsControl",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"showReactionsControl"),re.prototype),(0,d.default)(re.prototype,"schema",[U.computed],Object.getOwnPropertyDescriptor(re.prototype,"schema"),re.prototype),oe=re))||oe)||oe)||oe)||oe)||oe)||oe)||oe)||oe)||oe)||oe)||oe)||oe);t.default=Te},5570:function(e,t,a){"use strict";var o=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a,o;return(0,n.observer)((o=a=class extends e{constructor(...e){super(...e),this._mentionsEveryone=!1,this._mentionsHere=!1,this._roleMentionIds=[],this._personMentionIds=[]}reconcileMentions({inlineMentions:e}){let t={},a=!1,o=!1;const n=[],i=[];((null==e?void 0:e.size)||(null==e?void 0:e.length))&&(t=null==e?void 0:e.reduce((e,t,l)=>{const s=this.GetMention(t);return s&&(e[s.type]||(e[s.type]={}),e[s.type][s.id]||(e[s.type][s.id]=s,s.sortOrder=l,s.type===r.default.Everyone?a=!0:s.type===r.default.Here?o=!0:s.type===r.default.Role?n.push(s.id):s.type===r.default.Person&&i.push(s.id))),e},{}));const l=a!==this._mentionsEveryone||o!==this._mentionsHere||n.length!==this._roleMentionIds.length||i.length!==this._personMentionIds.length||!n.every((e,t)=>e===this._roleMentionIds[t])||!i.every((e,t)=>e===this._personMentionIds[t]);return l&&(t[r.default.Everyone]=a?t[r.default.Everyone][r.default.Everyone]:null,t[r.default.Here]=o?t[r.default.Here][r.default.Here]:null,this._mentionsEveryone=a,this._mentionsHere=o,this._roleMentionIds=n,this._personMentionIds=i),{haveMentionsChanged:l,mentionsByTypeId:t}}},a.displayName=e.displayName||e.name,t=o))||t};var r=o(a(669)),n=(a(1),a(3))},5571:function(e,t,a){"use strict";var o=a(14);a(49),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EditorSchemasByEditorTypeWithoutThrowOnNormalizeError=t.generateEditorSchema=t.NormalizationError=void 0;var r=o(a(58)),n=o(a(119)),i=a(5572),l=a(76),s=o(a(77)),d=o(a(26)),u=o(a(5576)),c=a(428);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}class h extends Error{constructor(e,...t){super("Invalid slate doc",...t),this.slateError=JSON.parse(JSON.stringify(e))}}t.NormalizationError=h;const b=({plugins:e})=>e.reduce((e,{isAllowedOnDocumentRoot:t,type:a,pluginType:o})=>o===s.default.block&&t?[...e,{type:a}]:e,[]),y=Object.entries(i.MarkTypesByEditorType).reduce((e,[t,a])=>(e[t]=i.MarkTypesByEditorType[t].map(e=>({type:e})),e),{}),g=({editor:e,child:t,node:a})=>t.type===d.default.NodeTypes.Embed?e.setNodeByKey(t.key,d.default.NodeTypes.ContentEmbed):t.object===d.default.Objects.Inline?e.unwrapInlineByKey(t.key):t.object===d.default.Objects.Block&&a.object===t.object?e.unwrapBlockByKey(t.key):e.setNodeByKey(t.key,d.default.NodeTypes.Paragraph);function m(e){return"string"==typeof e&&"[object Object]"!==e&&!n.default.ReallyBadCharactersRegex.test(e)}const v=({plugins:e,editorType:t,typesForNodeMatches:a,throwOnNormalizeError:o})=>e.reduce((e,{type:r,schema:n={},pluginType:i})=>{if((n=f({},n)).marks||n.isVoid||(n.marks=y[t]),a&&!n.nodes&&!n.isVoid){const e=[{match:[...a.map(e=>({type:e})),{object:d.default.Objects.Text}]}];n.nodes?n.nodes.push(...e):n.nodes=e}const{normalize:l}=n;n.normalize=(e,t)=>{if(o)throw new h(t);if(l)return l(e,t);const{code:a,child:r,node:n}=t;switch(a){case"child_type_invalid":case"child_object_invalid":return g({editor:e,child:r,node:n})}};const s=n.text;return n.text=s?e=>!!m(e)&&s(e):m,e[r]=n,e},{}),P=({editorType:e,throwOnNormalizeError:t=u.default.throwOnNormalizeError})=>{const a=i.BaseEditorPluginsByEditorType[e],o=a.filter(({pluginType:e})=>e===s.default.block),r=a.filter(({pluginType:e})=>e===s.default.inline),n=[...r,...o].reduce((e,{type:t})=>(c.SpecificChildrenNodeTypesSet.has(t)||e.push(t),e),[]);return{document:{nodes:[f({match:b({plugins:a}),min:1},[d.default.EditorTypes.Reaction,d.default.EditorTypes.Bare].includes(e)?{max:1}:{})],normalize:(e,a)=>{const{code:o,node:r,child:n,index:i}=a;if(t)throw new h(a);switch(o){case"child_min_invalid":{const t=l.Block.create(d.default.NodeTypes.Paragraph);return e.insertNodeByKey(r.key,i,t)}case"child_type_invalid":case"child_object_invalid":return g({editor:e,child:n,node:r})}return e},text:m},blocks:v({plugins:o,editorType:e,typesForNodeMatches:n,throwOnNormalizeError:t}),inlines:v({plugins:r,editorType:e,throwOnNormalizeError:t})}};t.generateEditorSchema=P;const O=d.default.AllEditorTypes.reduce((e,t)=>{const a=P({editorType:t});return e[t]=a,e},{}),T=d.default.AllEditorTypes.reduce((e,t)=>{const a=P({editorType:t,throwOnNormalizeError:!1});return e[t]=a,e},{});t.EditorSchemasByEditorTypeWithoutThrowOnNormalizeError=T;var E=O;t.default=E},5572:function(e,t,a){"use strict";var o=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MarkTypesByEditorType=t.AllMarkPlugins=t.AllInlinePlugins=t.AllBlockPlugins=t.BaseEditorPluginsByEditorType=t.BaseEditorPluginsByType=void 0;var r=o(a(1358)),n=o(a(1359)),i=o(a(1360)),l=o(a(1361)),s=o(a(1362)),d=o(a(1363)),u=o(a(1364)),c=o(a(1365)),p=o(a(5573)),f=o(a(1366)),h=o(a(1367)),b=o(a(1409)),y=o(a(1368)),g=o(a(1376)),m=o(a(1378)),v=o(a(1379)),P=o(a(1396)),O=o(a(1395)),T=o(a(1383)),E=o(a(1404)),w=o(a(5574)),C=o(a(1384)),S=o(a(1385)),k=o(a(5575)),x=o(a(1377)),M=o(a(1381)),I=o(a(1386)),D=o(a(1387)),_=o(a(1408)),R=o(a(1392)),j=o(a(1391)),N=o(a(1390)),B=o(a(1389)),z=o(a(895)),G=o(a(1388)),V=o(a(1407)),A=o(a(1406)),W=o(a(1405)),U=o(a(1400)),F=o(a(1370)),J=o(a(677)),H=o(a(1412)),K=o(a(1399)),L=o(a(1398)),Y=o(a(1397)),q=o(a(896)),Q=o(a(1375)),X=o(a(1369)),Z=o(a(894)),$=o(a(1394)),ee=o(a(673)),te=o(a(1393)),ae=o(a(1380)),oe=o(a(1382)),re=o(a(1402)),ne=o(a(1401)),ie=o(a(1403)),le=o(a(1411)),se=o(a(1410)),de=o(a(26)),ue=o(a(77));const ce=(0,p.default)([se.default,le.default,ie.default,ne.default,re.default,oe.default,ae.default,l.default,ee.default,u.default,d.default,te.default,$.default,Z.default,X.default,Q.default,q.default,Y.default,L.default,K.default,H.default,J.default,F.default,U.default,W.default,A.default,V.default,s.default,y.default,c.default,h.default,f.default,i.default,G.default,z.default,B.default,N.default,j.default,R.default,_.default,D.default,I.default,M.default,x.default,k.default,S.default,C.default,w.default,E.default,T.default,O.default,P.default,b.default,v.default,m.default,g.default,n.default,r.default]),pe=ce.reduce((e,t)=>(e[t.type]=t,e),{});t.BaseEditorPluginsByType=pe;const fe=ce.reduce((e,t)=>(t.editorTypes.forEach(a=>{e[a].push(t)}),e),de.default.AllEditorTypes.reduce((e,t)=>(e[t]=[],e),{}));t.BaseEditorPluginsByEditorType=fe;const he=ce.filter(e=>e.pluginType===ue.default.block);t.AllBlockPlugins=he;const be=ce.filter(e=>e.pluginType===ue.default.inline);t.AllInlinePlugins=be;const ye=ce.filter(e=>e.pluginType===ue.default.mark);t.AllMarkPlugins=ye;const ge=ye.reduce((e,t)=>(t.editorTypes.forEach(a=>{e[a].push(t.type)}),e),de.default.AllEditorTypes.reduce((e,t)=>(e[t]=[],e),{}));t.MarkTypesByEditorType=ge;var me=ce;t.default=me},5573:function(e,t,a){"use strict";var o=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(13)),n=o(a(26));function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const s={[n.default.NodeTypes.Image]:e=>l({},e,{schema:l({},e.schema,{data:t=>{const a=t.get(n.default.DataMarkers.IsUploading);return e.schema.data(t)||a}})})};t.default=e=>e.map(e=>{var t;return(null===(t=s[e.type])||void 0===t?void 0:t.call(s,e))||e})},5574:function(e,t,a){"use strict";var o=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(26)),n=(0,o(a(43)).default)({type:r.default.NodeTypes.DiscordDiscussion,schema:{isVoid:!0},editorTypes:[r.default.EditorTypes.Default,r.default.EditorTypes.Simple]});t.default=n},5575:function(e,t,a){"use strict";var o=a(14);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(26)),n=o(a(77)),i=(0,o(a(43)).default)({type:r.default.NodeTypes.ReactionAnnotation,pluginType:n.default.mark});t.default=i},5576:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={throwOnNormalizeError:!1}},5577:function(e,t,a){"use strict";var o=a(0);a(8),a(432),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=o(a(13)),i=o(a(38)),l=o(a(26)),s=o(a(2)),d=(a(1),a(3));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}var c=(0,i.default)(r=(0,d.observer)(r=class extends s.default.Component{constructor(...e){super(...e),this.queries={hasPendingUploads:e=>!!e.value.document.nodes.filter(e=>e.data.get(l.default.DataMarkers.IsUploading)).size,getIsValid:e=>{const{statusContext:t}=this;return!e.hasPendingUploads()||(t.displayStatus({text:"Please wait for your upload to complete.",type:"error"}),!1)}},this.commands={submit:(e,t={})=>{var a;const{onSubmit:o}=this.props;if(!e.getIsValid())return;const r=null===(a=e.getMoveToChannelId)||void 0===a?void 0:a.call(e);e.sanitize(),null==o||o(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({content:e.value.toJSON(),moveToChannelId:r},t))},sanitize:e=>{e.canConvertTextToLinks&&e.value.document.nodes.filter(t=>e.canConvertTextToLinks(t)).forEach(t=>{e.getLinkRangesInNode({node:t,includeLinksAtSelection:!0}).forEach(t=>e.insertLinkAtRange(t))}),e.getNodesOfTypeWithEmptyText({type:l.default.NodeTypes.Paragraph}).forEach(({key:t})=>{e.removeNodeByKey(t)}),e.removeAllInlinesByType(l.default.NodeTypes.MoveToChannel),e.controller.flush()}}}render(){return null}})||r)||r;t.default=c},5578:function(e,t,a){"use strict";var o=a(0);a(61),a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,l,s,d=o(a(5)),u=o(a(4)),c=o(a(182)),p=a(120),f=o(a(26)),h=o(a(5579)),b=o(a(16)),y=o(a(5582)),g=o(a(867)),m=o(a(212)),v=o(a(5588)),P=o(a(117)),O=o(a(21)),T=o(a(2)),E=a(1),w=a(3),C=o(a(31)),S=a(27);a(5592);var k=(r=(0,C.default)([!b.default.IsDesktop&&S.ActionDrawerMenuOverlay,S.InsertGifPickerOverlay,S.AddMediaOverlay,S.UploadMediaOverlay,S.CustomFormBuilderOverlay,!b.default.IsDesktop&&S.MobileMediaInputOverlay,S.ReactionPickerOverlay,S.SimpleFormOverlay,S.SimpleConfirmationOverlay].filter(Boolean)),n=E.computed.struct,i=E.computed.struct,r(l=(0,c.default)(l=(0,O.default)(l=(0,m.default)(l=(0,w.observer)((s=class extends T.default.Component{get plugins(){return this.props.plugins}get insertPlugins(){return this.props.insertPlugins}get size(){return this.props.size}get activeMarkTypes(){const{value:e}=this.slateEditorContext;return e.activeMarks.reduce((e,t)=>(e[t.type]=!0,e),{})}get activeBlockTypes(){const{value:e}=this.slateEditorContext;return g.default.GetActiveBlockTypes(e)}get showToolbar(){const{editor:e,readOnly:t}=this.slateEditorContext;return e&&!t}get showSelectionToolbar(){const{editor:e}=this.slateEditorContext,{teamId:t,viewerIsMember:a}=this.teamContext;return e&&(!t||a)}get isSelectionToolbarOpen(){const{value:e,readOnly:t,onReply:a}=this.slateEditorContext;return g.default.IsSelectionToolbarOpen({value:e,readOnly:t,onReply:a})}get unsortedToolbarPlugins(){const{plugins:e}=this;return e.filter(({toolbarInfo:e})=>null==e?void 0:e.iconGroup)}get toolbarPlugins(){return[...this.unsortedToolbarPlugins].sort((e,t)=>p.ToolbarGroupsBySortIndex[e.toolbarInfo.iconGroup]-p.ToolbarGroupsBySortIndex[t.toolbarInfo.iconGroup])}render(){const{showToolbar:e,showSelectionToolbar:t}=this;return(0,d.default)(P.default,{context:"SlateToolbars"},void 0,t&&(0,d.default)(v.default,{activeMarkTypes:this.isSelectionToolbarOpen?this.activeMarkTypes:{},activeBlockTypes:this.isSelectionToolbarOpen?this.activeBlockTypes:{},editor:this.slateEditorContext.editor,overlayProvider:this,plugins:this.toolbarPlugins,isOpen:this.isSelectionToolbarOpen,size:this.size}),e&&this.slateEditorContext.type===f.default.EditorTypes.Default&&(0,d.default)(y.default,{activeMarkTypes:this.activeMarkTypes,activeBlockTypes:this.activeBlockTypes,editor:this.slateEditorContext.editor,overlayProvider:this,plugins:this.toolbarPlugins,size:this.size}),e&&this.slateEditorContext.type===f.default.EditorTypes.Simple&&(0,d.default)(h.default,{editor:this.slateEditorContext.editor,insertPlugins:this.insertPlugins,overlayProvider:this,size:this.size}))}},(0,u.default)(s.prototype,"plugins",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"plugins"),s.prototype),(0,u.default)(s.prototype,"insertPlugins",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"insertPlugins"),s.prototype),(0,u.default)(s.prototype,"size",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"size"),s.prototype),(0,u.default)(s.prototype,"activeMarkTypes",[n],Object.getOwnPropertyDescriptor(s.prototype,"activeMarkTypes"),s.prototype),(0,u.default)(s.prototype,"activeBlockTypes",[i],Object.getOwnPropertyDescriptor(s.prototype,"activeBlockTypes"),s.prototype),(0,u.default)(s.prototype,"showToolbar",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"showToolbar"),s.prototype),(0,u.default)(s.prototype,"showSelectionToolbar",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"showSelectionToolbar"),s.prototype),(0,u.default)(s.prototype,"isSelectionToolbarOpen",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"isSelectionToolbarOpen"),s.prototype),(0,u.default)(s.prototype,"unsortedToolbarPlugins",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"unsortedToolbarPlugins"),s.prototype),(0,u.default)(s.prototype,"toolbarPlugins",[E.computed],Object.getOwnPropertyDescriptor(s.prototype,"toolbarPlugins"),s.prototype),l=s))||l)||l)||l)||l)||l);t.default=k},5579:function(e,t,a){"use strict";var o=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(5)),n=o(a(4)),i=o(a(192)),l=o(a(656)),s=o(a(244)),d=o(a(54)),u=o(a(122)),c=o(a(107)),p=o(a(212)),f=o(a(893)),h=o(a(2)),b=a(1),y=a(3),g=a(1268);let m;var v,P,O,T,E;a(5580);var w=(v=b.computed.struct,P=b.computed.struct,O=b.computed.struct,(0,s.default)(T=(0,p.default)(T=(0,c.default)(T=(0,u.default)(T=(0,y.observer)((m=s.default.HotkeyHandlers,E=class extends h.default.Component{constructor(...e){super(...e),this[m]={[l.default.HotkeyNames.ChannelCreateChatThread]:()=>{const{channel:e}=this.chatChannelContext;i.default.ActiveChannelId===(null==e?void 0:e.id)&&!(null==e?void 0:e.isDM)&&this.canCreateThread&&this._handleCreateThread()}},this._handleCreateThread=()=>{const{channelId:e}=this.chatChannelContext;d.default.changePath(this.teamChannelsContext.createOptimisticThread({channelId:e}).href)}}get canCreateThread(){const{channel:e,canCreateThreads:t,replyingMessage:a}=this.chatChannelContext;return!(null==e||!e.hasTextChat||(null==e?void 0:e.isTemporal)||!t||a)}get createThreadSection(){return this.canCreateThread?{name:"CreateThread",actions:[{label:"Create thread",icon:"icon-chat-thread",sectionType:"rows",onAction:this._handleCreateThread}]}:null}get insertSections(){const{insertPlugins:e=g.InsertPlugins}=this.props;return e.map(({type:e,toolbarInfo:{menu:t}})=>({name:e,actions:t.menuSpecs.sections.reduce((e,{name:t,actions:a})=>"Media"===t&&this.chatChannelContext.channel&&!this.chatChannelContext.showUploadMedia?e:e.concat(a),[])}))}get menuSpecs(){const{createThreadSection:e,insertSections:t}=this;return{size:"lg",menuSpecs:{id:"SlateInsertToolbarMenuSpecs",slidePanelEnabled:!0,sections:[e,...t].filter(Boolean)}}}render(){const{menuSpecs:e}=this;if(!e.menuSpecs.sections.length)return null;const{editor:t}=this.slateEditorContext,{overlayProvider:a,size:o="lg"}=this.props;return(0,r.default)(f.default,{className:"SlateInsertToolbar-container",size:o,menu:e,iconName:"icon-plus",editor:t,overlayProvider:a,hideCarat:!0})}},(0,n.default)(E.prototype,"canCreateThread",[b.computed],Object.getOwnPropertyDescriptor(E.prototype,"canCreateThread"),E.prototype),(0,n.default)(E.prototype,"createThreadSection",[v],Object.getOwnPropertyDescriptor(E.prototype,"createThreadSection"),E.prototype),(0,n.default)(E.prototype,"insertSections",[P],Object.getOwnPropertyDescriptor(E.prototype,"insertSections"),E.prototype),(0,n.default)(E.prototype,"menuSpecs",[O],Object.getOwnPropertyDescriptor(E.prototype,"menuSpecs"),E.prototype),T=E))||T)||T)||T)||T)||T);t.default=w},5580:function(e,t,a){var o=a(6),r=a(5581);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5581:function(e,t,a){(t=a(7)(!1)).push([e.i,".SlateInsertToolbar-container{height:100%;display:flex;margin:auto 0}.SlateInsertToolbar-container:after{content:'';background:rgba(163,163,172,0.2);height:calc(100% - 12px);margin-top:6px;width:1px}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370"},e.exports=t},5582:function(e,t,a){"use strict";var o=a(0),r=a(18);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,l,s,d=o(a(17)),u=o(a(10)),c=o(a(4)),p=(o(a(11)),o(a(19))),f=o(a(21)),h=o(a(212)),b=r(a(2)),y=a(1),g=a(3),m=o(a(4644)),v=o(a(654));let P=(0,g.observer)(n=(0,h.default)(n=(0,p.default)(n=(0,f.default)(n=(0,v.default)((i=class extends b.Component{constructor(...e){super(...e),(0,u.default)(this,"mainToolbarWidth",l,this),this.mainToolbarRef=null,this.onWindowResize=()=>{this.setToolbarWidth()},this.setMainToolbarRef=e=>{this.mainToolbarRef=e,this.setToolbarWidth()},(0,u.default)(this,"setToolbarWidth",s,this),this.ToolbarPluginWidth=40}get maxMainPluginsToDisplay(){const{mainToolbarWidth:e,ToolbarPluginWidth:t}=this;return Math.floor(e/t)}get plugins(){const{readOnly:e}=this.slateEditorContext,{plugins:t}=this.props,{userInfo:a}=this.userContext,{hasTeamInfo:o,viewerIsMember:r}=this.teamContext;return t.filter(t=>{var n;return!!e==!!t.onlyLoadWhenReadOnly&&!(null===(n=t.disabledFunc)||void 0===n?void 0:n.call(t,{userInfo:a,hasTeamInfo:o,viewerIsMember:r}))})}render(){const{plugins:e,maxMainPluginsToDisplay:t}=this;return b.default.createElement("div",{ref:this.setMainToolbarRef},b.default.createElement(m.default,(0,d.default)({},this.props,{dynamicMediaType:this.slateEditorContext.dynamicMediaType,plugins:e,maxMainPluginsToDisplay:t})))}},l=(0,c.default)(i.prototype,"mainToolbarWidth",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=(0,c.default)(i.prototype,"setToolbarWidth",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{var e;this.mainToolbarWidth=null===(e=this.mainToolbarRef)||void 0===e?void 0:e.scrollWidth}}}),(0,c.default)(i.prototype,"maxMainPluginsToDisplay",[y.computed],Object.getOwnPropertyDescriptor(i.prototype,"maxMainPluginsToDisplay"),i.prototype),(0,c.default)(i.prototype,"plugins",[y.computed],Object.getOwnPropertyDescriptor(i.prototype,"plugins"),i.prototype),n=i))||n)||n)||n)||n)||n;t.default=P},5583:function(e,t,a){"use strict";var o=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=o(a(5)),i=o(a(22)),l=o(a(9)),s=o(a(2)),d=a(3),u=o(a(15)),c=a(20),p=o(a(53));a(5584);var f=(0,d.observer)(r=class extends s.default.Component{constructor(...e){super(...e),this._handleClick=e=>{const{onClick:t,editor:a,overlayProvider:o,dynamicMediaType:r}=this.props;(0,u.default)(t,"onClick is not defined"),(0,c.stopEventPropagationAndDefault)(e),t({editor:a,overlayProvider:o,dynamicMediaType:r})}}render(){const{iconName:e,isActive:t,iconType:a,className:o,tooltip:r,type:s}=this.props;return(0,n.default)(p.default,{className:(0,l.default)("SlateToolbarIcon-wrapper",o,"SlateToolbarIcon-wrapper-".concat(s)),text:r,onClick:this._handleClick,onMouseDown:c.stopEventPropagationAndDefault},void 0,(0,n.default)(i.default,{className:(0,l.default)("SlateToolbarIcon-icon",a&&"SlateToolbarIcon-icon-type-".concat(a),t&&"SlateToolbarIcon-icon-active"),iconName:e}))}})||r;t.default=f},5584:function(e,t,a){var o=a(6),r=a(5585);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5585:function(e,t,a){(t=a(7)(!1)).push([e.i,".SlateToolbarIcon-wrapper:hover{cursor:pointer}.SlateToolbarIcon-wrapper:hover .SlateToolbarIcon-icon{fill:#fef0b9;border-color:#fef0b9}.SlateToolbarIcon-icon{height:33px;width:32px;padding:9px 0;fill:#a3a3ac}@media (hover: none){.SlateToolbarIcon-icon:active{position:relative}.SlateToolbarIcon-icon:active::after{content:'';position:absolute;top:0;right:0;bottom:0;left:0;opacity:0;background:white;pointer-events:none;transition:opacity 90ms ease-out;will-change:opacity;border-radius:0px;z-index:1}.SlateToolbarIcon-icon:active:hover::after{opacity:.05}}.SlateToolbarIcon-icon-active{fill:#fef0b9}.SlateToolbarIcon-icon-type-content{height:24px;border-radius:12px;padding:0 8px;background-color:rgba(163,163,172,0.2);width:40px;padding:0px 12px}.SlateToolbarIcon-icon-type-content:hover{background-color:rgba(255,255,255,0.2)}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",streamGradient:"linear-gradient(63.5deg, red -29.74%, #b258ff 83.36%)"},e.exports=t},5586:function(e,t,a){var o=a(6),r=a(5587);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5587:function(e,t,a){(t=a(7)(!1)).push([e.i,".SlateToolbarStrip{display:flex;flex-direction:row;overflow:hidden;flex-shrink:0;border-top:1px solid rgba(163,163,172,0.1);border-bottom:1px solid rgba(163,163,172,0.1)}.SlateToolbarStrip-iconGroup{display:flex;flex-direction:row;padding:0 6px}.SlateToolbarStrip-iconGroup:not(:last-child){border-right:1px solid rgba(163,163,172,0.1)}.SlateToolbarStrip-overflow-icon{width:32px;height:32px;padding:7px 0}.SlateToolbarStrip-icon{z-index:0}.SlateToolbarStrip-iconGroup-annotations{padding:8px;align-items:center}.SlateToolbarStrip-iconGroup-annotations .SlateToolbarStrip-icon:not(:first-child){margin-left:8px}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370"},e.exports=t},5588:function(e,t,a){"use strict";var o=a(0),r=a(18);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i,l,s,d,u,c,p,f,h,b,y=a(12),g=o(a(5)),m=o(a(17)),v=o(a(10)),P=o(a(4)),O=(o(a(11)),o(a(182))),T=o(a(867)),E=o(a(212)),w=o(a(4645)),C=o(a(5589)),S=o(a(16)),k=o(a(35)),x=o(a(285)),M=r(a(2)),I=o(a(4644)),D=a(1),_=a(3),R=a(187),j=a(83);a(5590);let N=(n=D.observable.ref,i=D.observable.ref,l=D.computed.struct,s=D.computed.struct,(0,O.default)(d=(0,E.default)(d=(0,k.default)((u=class extends M.Component{constructor(...e){super(...e),this.AnimationDelayMs=0,this.AnimationTimeMs=80,this.ClassName="SlateSelectionToolbar-container",this.PortalAlignment="top-center",this.PortalPriority=1,this.HalfCaretWidth=8,this.PortalTriggerContainerDataFn=()=>{const{value:e,selection:t,onReply:a,readOnly:o}=this.slateEditorContext;return T.default.IsSelectionToolbarOpen({value:e,onReply:a,readOnly:o})&&t},this.IsPortalWindowChangeEnabled=!0,(0,v.default)(this,"OnGetRef",c,this),(0,v.default)(this,"mobilePortalId",p,this),(0,v.default)(this,"toolbarContainerRef",f,this),(0,v.default)(this,"caretStyle",h,this),this.reactions=[S.default.IsDesktop&&{dataFn:()=>{const{toolbarContainerRef:e}=this;if(!e)return{selection:null,toolbarContainerRef:e};const{selection:t}=this.slateEditorContext;return{selection:t,toolbarContainerRef:e}},reaction:()=>this._handleSelectionChange(),struct:!0},!S.default.IsDesktop&&{dataFn:()=>this.props.isOpen,reaction:e=>{e?this.mobilePortalId=w.default.requestPortalId():w.default.clearPortalId()}}].filter(Boolean),(0,v.default)(this,"_handleSelectionChange",b,this)}get PortalTriggerContainer(){var e;return(0,R.GetEmulatedContainerAtSelectionStart)(null===(e=this.appPortalWindow)||void 0===e?void 0:e.Window)}get selectionToolbarPlugins(){const{permittedGroups:e}=this,{value:t,readOnly:a}=this.slateEditorContext,{plugins:o,overlayProvider:r}=this.props;return o.filter(o=>{var n,i,l;return(null===(n=o.toolbarInfo)||void 0===n?void 0:n.showOnSelection)&&!!a==!!o.onlyLoadWhenReadOnly&&!(null===(i=o.selectionDisabledFunc)||void 0===i?void 0:i.call(o,{value:t,overlayProvider:r}))&&(!e||e[null===(l=o.toolbarInfo)||void 0===l?void 0:l.iconGroup])})}get permittedGroups(){const{editor:e}=this.slateEditorContext,{pluginPermittedGroupsDict:t}=this,a=e.getSelectedBlockTypes();if(1===a.length)return t[a[0]]}get pluginPermittedGroupsDict(){const{plugins:e}=this.props;return e.reduce((e,t)=>{var a,o;const r=null===(a=t.toolbarInfo)||void 0===a?void 0:null===(o=a.permittedSelectionGroups)||void 0===o?void 0:o.reduce((e,t)=>(e[t]=!0,e),{});return e[t.type]=r,e},{})}render(){const{selectionToolbarPlugins:e,caretStyle:t,mobilePortalId:a}=this,{readOnly:o,dynamicMediaType:r}=this.slateEditorContext;return S.default.IsDesktop?(0,g.default)(M.default.Fragment,{},void 0,M.default.createElement(I.default,(0,m.default)({className:"SlateSelectionToolbar-toolbar"},this.props,{dynamicMediaType:r,plugins:e,readOnly:o})),!!e.length&&(0,g.default)("div",{className:"SlateSelectionToolbar-caret",style:t})):a&&(0,g.default)(C.default,{portalId:a},void 0,M.default.createElement(I.default,(0,m.default)({className:"SlateSelectionToolbar-toolbar-mobile"},this.props,{dynamicMediaType:r,plugins:e,readOnly:o})))}},c=(0,P.default)(u.prototype,"OnGetRef",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>this.toolbarContainerRef=e}}),p=(0,P.default)(u.prototype,"mobilePortalId",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=(0,P.default)(u.prototype,"toolbarContainerRef",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=(0,P.default)(u.prototype,"caretStyle",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,P.default)(u.prototype,"PortalTriggerContainer",[D.computed],Object.getOwnPropertyDescriptor(u.prototype,"PortalTriggerContainer"),u.prototype),(0,P.default)(u.prototype,"selectionToolbarPlugins",[l],Object.getOwnPropertyDescriptor(u.prototype,"selectionToolbarPlugins"),u.prototype),(0,P.default)(u.prototype,"permittedGroups",[D.computed],Object.getOwnPropertyDescriptor(u.prototype,"permittedGroups"),u.prototype),(0,P.default)(u.prototype,"pluginPermittedGroupsDict",[s],Object.getOwnPropertyDescriptor(u.prototype,"pluginPermittedGroupsDict"),u.prototype),b=(0,P.default)(u.prototype,"_handleSelectionChange",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,y.coroutine)((function*(){const{toolbarContainerRef:t}=e;if(!t)return;const{selection:a}=e.slateEditorContext;if(a.isCollapsed||!a.isFocused)return;yield(0,j.requestAnimationFrameAsync)();const o=e.PortalTriggerContainer.getBoundingClientRect();if(!o)return;const r=t.getBoundingClientRect();if(!r)return;const{left:n,width:i}=o,{left:l}=r;(0,D.runInAction)(()=>e.caretStyle={left:n-l+i/2-e.HalfCaretWidth})}))}}),d=u))||d)||d)||d);var B=S.default.IsDesktop?(0,_.observer)((0,x.default)(N)):(0,_.observer)(N);t.default=B},5589:function(e,t,a){"use strict";var o=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=o(a(5)),i=o(a(223)),l=o(a(4957)),s=o(a(4645)),d=o(a(2));a(1);var u=(0,a(3).observer)(r=class extends d.default.Component{render(){const{portalId:e}=this.props;return e&&e===s.default.activePortalId?(0,n.default)(i.default,{portalId:l.default.BottomContent},void 0,this.props.children):null}})||r;t.default=u},5590:function(e,t,a){var o=a(6),r=a(5591);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5591:function(e,t,a){(t=a(7)(!1)).push([e.i,".SlateSelectionToolbar-toolbar{background-color:#191b1f;border-radius:3px;border:none}.SlateSelectionToolbar-container{display:block;top:4px;position:relative}.SlateSelectionToolbar-caret{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #191b1f;position:relative;top:-1px}.SlateSelectionToolbar-toolbar-mobile{width:100%;background-color:#3c3e48;display:flex;justify-content:flex-start;animation-name:animate-in-v2;animation-duration:300ms;animation-delay:10ms;animation-fill-mode:forwards;opacity:0}@keyframes animate-in-v2{0%{transform:translateY(4px);opacity:0}5%{transform:translateY(4px);opacity:0}100%{transform:translateY(0px);opacity:1}}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",streamGradient:"linear-gradient(63.5deg, red -29.74%, #b258ff 83.36%)"},e.exports=t},5592:function(e,t,a){var o=a(6),r=a(5593);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5593:function(e,t,a){(t=a(7)(!1)).push([e.i,"",""]),e.exports=t},5594:function(e,t,a){"use strict";var o=a(0);a(661),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(a(867)),n=a(20),i={onBeforeInput:n.stopEventPropagationAndDefault,onPaste:n.stopEventPropagationAndDefault,onDrop:n.stopEventPropagationAndDefault,onInput:n.stopEventPropagationAndDefault,onCut:n.stopEventPropagationAndDefault,onMouseUp:r.default.ReadOnlyOnMouseUp,onKeyUp:r.default.ReadOnlyOnKeyUp,onChange:(e,t)=>{const{operations:a}=e;return a.reverse().forEach(t=>{r.default.IsReadOnlyOperationAllowed(t)||e.applyOperation(t.invert())}),t()}};t.default=i},5662:function(e,t,a){var o=a(6),r=a(5663);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var n={insert:"head",singleton:!1},i=(o(r,n),r.locals?r.locals:{});e.exports=i},5663:function(e,t,a){(t=a(7)(!1)).push([e.i,".Editor-container{display:flex;flex:1;background:rgba(163,163,172,0.2);border-radius:4px;overflow:hidden}.Editor-container-type-bare{background:transparent}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",streamGradient:"linear-gradient(63.5deg, red -29.74%, #b258ff 83.36%)"},e.exports=t},920:function(e,t,a){"use strict";var o=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n,i,l,s,d,u=o(a(5)),c=o(a(10)),p=o(a(4)),f=(o(a(11)),o(a(16))),h=o(a(2)),b=o(a(9)),y=(o(a(12)),a(1)),g=a(3);a(4200);var m=(0,g.observer)((n=class extends h.default.Component{constructor(...e){super(...e),(0,c.default)(this,"lastValue",i,this),(0,c.default)(this,"clear",l,this),this._handleBlur=e=>{const{onBlur:t}=this.props;this._handleChange(e),t&&t(this.lastValue)},this._handleRef=e=>this.contentEditable=e,(0,c.default)(this,"_handleKeyDown",s,this),this.getValue=()=>this.lastValue,this.blur=()=>{this.contentEditable.blur()},this.focus=()=>{if(this.contentEditable.focus(),this.props.selectAllOnFocus)try{document.execCommand("selectAll",!1,null)}catch(e){}},(0,c.default)(this,"_handleChange",d,this),this._onContentPasted=e=>{const{onPaste:t}=this.props;t&&t(e)}}render(){const{className:e,placeholder:t,inverse:a,onFocus:o,isLight:r,isDisabled:n,size:i="md",scroll:l=!0,placeholderClassName:s,inputClassName:d,allowTabbing:c=!0,ellipsify:p}=this.props;return(0,u.default)("div",{className:(0,b.default)(e,"ContentEditableInput-container",{"ContentEditableInput-inverse":a,["ContentEditableInput-container-size-".concat(i)]:i,"ContentEditableInput-container-scroll":l,"ContentEditableInput-container-mobile":!f.default.IsDesktop,"ContentEditableInput-container-desktop":f.default.IsDesktop,"ContentEditableInput-light":r}),onClick:this.focus},void 0,h.default.createElement("div",{className:(0,b.default)("ContentEditableInput-input",p&&n&&"ContentEditableInput-ellipsify",d),contentEditable:n?"false":"true",tabIndex:c?null:-1,onInput:this._handleChange,onBlur:this._handleBlur,onFocus:o,onKeyDown:this._handleKeyDown,onPaste:this._onContentPasted,ref:this._handleRef,dangerouslySetInnerHTML:null}),!this.lastValue&&t&&(0,u.default)("span",{className:(0,b.default)("ContentEditableInput-placeholder-text",s)},void 0,t))}componentDidMount(){const{defaultValue:e,autoFocus:t,dangerous___allowHtml:a}=this.props;e&&(a?this.contentEditable.innerHTML=e:this.contentEditable.innerText=e,this.lastValue=e),t&&this.focus()}},i=(0,p.default)(n.prototype,"lastValue",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.props.defaultValue||""}}),l=(0,p.default)(n.prototype,"clear",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.contentEditable.innerHTML="",this.lastValue=""}}}),s=(0,p.default)(n.prototype,"_handleKeyDown",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onEnterPressed:t,allowNewlines:a,isDisabled:o}=this.props;if(!o&&(this._handleChange(),13===e.keyCode)){if(e.shiftKey,t&&t(this.lastValue),!a)return e.preventDefault(),e.stopPropagation(),!1;this.lastValue=this.lastValue+"\n"}}}}),d=(0,p.default)(n.prototype,"_handleChange",[y.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{onChange:t,maxLength:a}=this.props,{lastValue:o,contentEditable:r}=this,n=r.innerText;if(n&&a&&n.length>a){r.innerText=o;const e=o?o.length:0;let t=null;document.selection?(t=document.selection.createRange(),t&&t.moveStart("character",e)):(t=window.getSelection(),t&&t.collapse(r.firstChild,e))}if(this.lastValue!==n&&(this.lastValue=n,null==t||t(n)),e)return e.stopPropagation(),e.preventDefault(),!1}}}),(0,p.default)(n.prototype,"componentDidMount",[y.action],Object.getOwnPropertyDescriptor(n.prototype,"componentDidMount"),n.prototype),r=n))||r;t.default=m}}]);
//# sourceMappingURL=https://www.guilded.gg/e611d5e6/SlateEditor.js.map