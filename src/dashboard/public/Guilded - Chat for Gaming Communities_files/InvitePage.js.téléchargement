(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{7551:function(e,t,a){"use strict";var i=a(18),n=a(0);a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,d,l,s,u,c,p,m,f=i(a(12)),g=n(a(5)),h=n(a(10)),b=n(a(4)),v=(n(a(11)),n(a(1580))),y=n(a(38)),I=n(a(4612)),P=n(a(377)),w=n(a(1327)),x=n(a(115)),M=n(a(30)),O=n(a(32)),C=a(62),T=n(a(31)),k=a(27),B=n(a(4272)),D=n(a(310)),G=n(a(156)),N=n(a(33)),S=n(a(60)),j=n(a(141)),A=n(a(1585)),L=n(a(897)),R=n(a(19)),H=n(a(54)),_=n(a(16)),z=n(a(1316)),J=n(a(412)),E=n(a(8597)),U=n(a(4640)),q=n(a(268)),F=n(a(28)),W=n(a(44)),Y=n(a(263)),V=n(a(689)),K=n(a(193)),Q=n(a(171)),X=n(a(95)),Z=n(a(34)),$=n(a(2)),ee=a(1),te=a(3);a(8600);let ae=(r=(0,T.default)([k.ApplyToTeamOverlay,k.ApplicationSubmittedConfirmationOverlay]),(0,v.default)(o=(0,Z.default)(o=(0,R.default)(o=(0,y.default)(o=r(o=(0,te.observer)((d=class extends $.default.Component{constructor(...e){super(...e),(0,h.default)(this,"team",l,this),(0,h.default)(this,"invitedBy",s,this),(0,h.default)(this,"acceptButtonLoading",u,this),(0,h.default)(this,"hideInvitePanel",c,this),this.canIncludeNumMembers=!0,this.fetchData=()=>{const{inviteId:e}=this;return this.inviteId?W.default.GetFullInvite({inviteId:e,loadAvatars:!_.default.IsMobile}):W.default.GetFullInvite({inviteId:"recruitment",teamId:this.recruitingHash.teamId,invitedBy:P.default.Flags.InvitedBy,loadAvatars:!_.default.IsMobile})},(0,h.default)(this,"handleDataFetch",p,this),this.generateIconProps=e=>this.useCustomIcons?{className:"InvitePage-whimsical-icon",hideOnlineInfo:!0,size:"sm",player:e}:null,(0,h.default)(this,"_handleAccept",m,this),this._handleGoHome=()=>H.default.lastPath?H.default.goBack():K.default.Landing.navigate()}componentDidMount(){if(this.inviteId){const{cid:e,intent:t}=H.default.queryParams;O.default.Log(M.default.TeamInviteOpened,{isInviteHash:!0,intent:e&&t?t:null})}else O.default.Log(M.default.RecruitingLinkLoaded)}get inviteId(){return this.props.routeProps.inviteId}get recruitingHash(){const e=this.props.routeProps.recruitingHash;if(e)return w.default.Decode(e)}get isLoaded(){return!!this.team&&!!this.invitedBy}get alreadyJoined(){return!(!this.isLoaded||!this.userContext.userTeamsByTeamId[this.team.id])}get confirmText(){return this.alreadyJoined?"View ".concat(this.team.name):this.inviteId?"Accept invite":"Apply to join"}get useCustomIcons(){return this.numMembers>=10}get iconHoverEffect(){return this.useCustomIcons?"opacity":null}get membersIcons(){if(!this.useCustomIcons)return null;const e=[...this.team.activeMembers];if(e.length<20&&this.numMembers>=20)for(let t=e.length;t<20;t++)e.push(new x.default({id:"fakeUser".concat(t)}));return e}get iconComponent(){return this.useCustomIcons?q.default:null}get numMembers(){return this.team.numMembers||0}get numOnlineMembers(){return this.team.numOnlineMembers||0}get showCancelBtn(){return _.default.IsElectron||H.default.lastPath}get socialContextInfo(){return{type:"memberInvite",invitedBy:this.invitedBy,teamInfo:this.team}}get inviteText(){return this.alreadyJoined&&!this.acceptButtonLoading?"You've already joined":"Accept ".concat(S.default.PluralizeString(this.invitedBy.name)," invite to ").concat(this.inviteId?"join":"apply to")}get showGames(){return!!this.team.games.length}render(){return(0,g.default)(X.default,{className:"InvitePage-container",loadedSignal:this.isLoaded,networkError:this.networkError,fullWidth:!0,customErrorTitle:"This invite link is not valid",customErrorString:"It may have already been used or expired",goBack:this._handleGoHome},void 0,!!this.isLoaded&&(_.default.IsMobile?(0,g.default)(A.default,{socialContextInfo:this.socialContextInfo,teamId:this.team.id,isPublic:this.team.isPublic,inviteId:this.inviteId,onConfirm:this._handleAccept,onCancel:this._handleGoHome,acceptButtonLoading:this.acceptButtonLoading,acceptInviteOnSignUp:!1}):(0,g.default)($.default.Fragment,{},void 0,(0,g.default)(z.default,{className:"InvitePage-whimsical-icons",isPreloaded:!0,isResponsive:!0,pauseOnHover:this.useCustomIcons,hoverEffect:this.iconHoverEffect,iconComponent:this.iconComponent,getIconProps:this.generateIconProps,icons:this.membersIcons}),!this.hideInvitePanel&&(0,g.default)("div",{className:"InvitePage-panel"},void 0,(0,g.default)("div",{className:"InvitePage-panel-invite"},void 0,(0,g.default)(q.default,{className:"InvitePage-invitedBy-avatar",player:this.invitedBy,hideOnlineInfo:!0,size:"sm"}),(0,g.default)(F.default,{centered:!0,block:!0,type:"bigBody"},void 0,this.inviteText),(0,g.default)(U.default,{className:"InvitePage-TeamName",nameType:"heading-1",name:this.team.name,isVerified:this.team.isVerified,isPro:this.team.isPro}),(0,g.default)("div",{},void 0,this.includeNumMembers&&(0,g.default)(E.default,{numMembers:this.numMembers,statusColor:this.teamMembersPillColor}),this.includeNumOnline&&(0,g.default)(E.default,{numMembers:this.numOnlineMembers,label:"online",singular:!0})),this.showGames&&(0,g.default)(J.default,{className:"InvitePage-games",games:this.team.games,maxGamesToShow:7,type:"light"}),this.userContext.userInfo?(0,g.default)(Q.default,{className:"InvitePage-Confirm-container",confirmClassName:"InvitePage-Confirm",confirmText:this.confirmText,onConfirm:this._handleAccept,onCancel:this._handleGoHome,hideCancel:!this.showCancelBtn,loading:this.acceptButtonLoading}):(0,g.default)(L.default,{className:"InvitePage-SignupForm",onSignUp:this._handleAccept,onLogIn:this._handleAccept,signupConfirmText:"Continue",loginConfirmText:"Continue",isInline:!0,preferUsernameSignup:!0,isConfirmWide:!0,hideHeader:!0,fromInvite:!0})),(0,g.default)("div",{className:"InvitePage-panel-banner"},void 0,(0,g.default)(Y.default,{teamId:this.team.id,teamInfo:this.team},void 0,(0,g.default)(V.default,{className:"InvitePage-panel-team-banner",type:"no-blur"}),(0,g.default)(B.default,{showTeamName:!1,showUploadButton:!1,className:"InvitePage-team-plaque"})))))))}},l=(0,b.default)(d.prototype,"team",[ee.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=(0,b.default)(d.prototype,"invitedBy",[ee.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=(0,b.default)(d.prototype,"acceptButtonLoading",[ee.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=(0,b.default)(d.prototype,"hideInvitePanel",[ee.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,b.default)(d.prototype,"inviteId",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"inviteId"),d.prototype),(0,b.default)(d.prototype,"recruitingHash",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"recruitingHash"),d.prototype),p=(0,b.default)(d.prototype,"handleDataFetch",[ee.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return({team:e,user:t})=>{this.team=e,this.invitedBy=t}}}),(0,b.default)(d.prototype,"isLoaded",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"isLoaded"),d.prototype),(0,b.default)(d.prototype,"alreadyJoined",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"alreadyJoined"),d.prototype),(0,b.default)(d.prototype,"confirmText",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"confirmText"),d.prototype),(0,b.default)(d.prototype,"useCustomIcons",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"useCustomIcons"),d.prototype),(0,b.default)(d.prototype,"iconHoverEffect",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"iconHoverEffect"),d.prototype),(0,b.default)(d.prototype,"membersIcons",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"membersIcons"),d.prototype),(0,b.default)(d.prototype,"iconComponent",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"iconComponent"),d.prototype),(0,b.default)(d.prototype,"numMembers",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"numMembers"),d.prototype),(0,b.default)(d.prototype,"numOnlineMembers",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"numOnlineMembers"),d.prototype),(0,b.default)(d.prototype,"showCancelBtn",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"showCancelBtn"),d.prototype),(0,b.default)(d.prototype,"socialContextInfo",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"socialContextInfo"),d.prototype),m=(0,b.default)(d.prototype,"_handleAccept",[ee.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,f.coroutine)((function*(t){var a,i;let n;e.alreadyJoined||(e.acceptButtonLoading=!0),_.default.IsMobile&&(null==t?void 0:t.newUserId)&&I.default.loadToken();const{cid:r,intent:o}=H.default.queryParams;if(!e.alreadyJoined&&!(null==t?void 0:null===(a=t.userTeams)||void 0===a?void 0:a.some(t=>t.id===e.team.id))){const a=e.userContext.userId||(null==t?void 0:t.newUserId)||(null==t?void 0:t.userId);if(e.inviteId)try{const{landingChannel:t}=yield e.makeRequest(W.default.AcceptInvite({userId:a,teamId:e.team.id,inviteId:e.inviteId,invitedBy:e.invitedBy.id,isPublic:e.team.isPublic,includeLandingChannel:!_.default.IsMobile&&!r}));n=t,N.default.emit(G.default.Teams),N.default.emit(D.default.TeamInviteAccepted,{teamId:e.team.id}),N.default.emit(G.default.Team,{teamId:e.team.id})}catch(t){var d;throw(0,ee.runInAction)(()=>e.acceptButtonLoading=!1),e.statusContext.displayError({message:(null===(d=t.responseJSON)||void 0===d?void 0:d.message)||"Something went wrong"}),t}else if(!_.default.IsMobile){(0,ee.runInAction)(()=>e.hideInvitePanel=!0);const{confirmed:i,application:n}=yield e.ApplyToTeamOverlay.Open({userId:a,teamInfo:e.team,gameId:e.recruitingHash.gameId,skipToConfirmIfPending:!0,shouldPersistRouteChange:!0,backgroundStyle:"translucent",isRequired:!0});if(i){const{confirmed:t}=yield e.ApplicationSubmittedConfirmationOverlay.Open({teamInfo:e.team,application:n,redirectToDashboardOnServerCreation:!0,backgroundStyle:"translucent",isRequired:!0});if(t)return}const d={};return(null==t?void 0:t.newUserId)&&(d.showClaimAccount=!0),r&&(d.cid=r),o&&(d.intent=o),j.default.Tab.navigateSilent({teamId:e.team.id},d)}}if(_.default.IsMobile)return void e.MobileAppUpsellOverlay.Open({showCancel:!1});const l={};(null==t?void 0:t.newUserId)&&(l.showWelcomeOverlay=!0),(null===(i=n)||void 0===i?void 0:i.id)?j.default.Channel.navigateSilent({teamId:e.team.id,groupId:n.groupId,channelId:n.id,channelType:C.ContentTypeToChannelType[n.contentType]},l):(r&&(l.cid=r),o&&(l.intent=o),j.default.Tab.navigateSilent({teamId:e.team.id},l))}));return function(e){return t.apply(this,arguments)}}()}}),(0,b.default)(d.prototype,"inviteText",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"inviteText"),d.prototype),(0,b.default)(d.prototype,"showGames",[ee.computed],Object.getOwnPropertyDescriptor(d.prototype,"showGames"),d.prototype),o=d))||o)||o)||o)||o)||o)||o);var ie=_.default.IsDesktop?ae:(0,T.default)([k.MobileAppUpsellOverlay])(ae);t.default=ie},8597:function(e,t,a){"use strict";var i=a(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o=i(a(5)),d=i(a(4)),l=i(a(60)),s=i(a(9)),u=i(a(2)),c=a(1),p=a(3);a(8598);var m=(0,p.observer)((r=class extends u.default.Component{get label(){const e=this.props.label||"member";return this.props.singular?e:l.default.Pluralize({amount:this.props.numMembers,label:e})}render(){const{className:e,numMembers:t,statusColor:a="green"}=this.props;return(0,o.default)("div",{className:(0,s.default)("TeamMembersPill-container",e)},void 0,(0,o.default)("div",{className:(0,s.default)("TeamMembersPill-Status","TeamMembersPill-Status-".concat(a))}),t," ",(0,o.default)("span",{className:"TeamMembersPill-member-label"},void 0,this.label))}},(0,d.default)(r.prototype,"label",[c.computed],Object.getOwnPropertyDescriptor(r.prototype,"label"),r.prototype),n=r))||n;t.default=m},8598:function(e,t,a){var i=a(6),n=a(8599);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},o=(i(n,r),n.locals?n.locals:{});e.exports=o},8599:function(e,t,a){(t=a(7)(!1)).push([e.i,".TeamMembersPill-container{background-color:#1e2025;border-radius:14px;display:flex;flex-direction:row;align-items:center;justify-content:center;display:inline-block;padding:4px 8px;font-weight:bold;margin:0 4px}.TeamMembersPill-Status{width:8px;height:8px;border-radius:4px;margin-right:5px;display:inline-block}.TeamMembersPill-Status-green{background-color:#53da33}.TeamMembersPill-Status-grey{background-color:#848a94}.TeamMembersPill-member-label{color:#a3a3ac}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370"},e.exports=t},8600:function(e,t,a){var i=a(6),n=a(8601);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1},o=(i(n,r),n.locals?n.locals:{});e.exports=o},8601:function(e,t,a){(t=a(7)(!1)).push([e.i,".InvitePage-container{display:flex;flex-direction:column;width:100%;height:100%;background-color:#3c3e48}.InvitePage-panel{box-shadow:0 26px 40px -24px #000;margin:auto;width:75%;min-width:500px;max-width:900px;background-color:#373943;border-radius:8px;display:flex;flex-direction:row;z-index:1;overflow:hidden}.InvitePage-panel-invite{width:56%;margin:36px 0;display:flex;flex-direction:column;align-items:center}.InvitePage-panel-banner{width:44%;position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center}.InvitePage-panel-team-banner{width:100%;height:100%;position:absolute}.InvitePage-invitedBy-avatar{width:60px;height:60px;margin:0 auto 15px}.InvitePage-TeamName{margin:10px auto 25px}.InvitePage-Confirm{width:80%}.InvitePage-Confirm-container{width:100%;margin-top:40px}.InvitePage-games{margin-top:15px}.InvitePage-whimsical-icons{position:absolute;left:50%;top:calc(50% - 232px);z-index:0;opacity:1;transition:opacity 600ms ease-out}@media (max-height: 1000px){.InvitePage-whimsical-icons{top:calc(50% - 192px)}}.InvitePage-whimsical-icon{height:40px;width:40px}.InvitePage-team-plaque{padding:0}\n",""]),t.locals={confirmationGreen:"#53da33",confirmationGreenDesaturated:"#6cba50",gilded4:"#ecb200",gilded5:"#e0a900",gilded6:"#be8c00",errorRedDesaturated:"#df5353",gray:"#a3a3ac",bodyTextWhite:"#ececee",border:"#848a94",errorRed:"#ff6b6b",warnYellow:"#ffb400",nuxBlue:"#008ae1",calendarOrange:"#d89332",calendarBlue:"#355bf8",calendarGreen:"#6cba50",calendarSeagreen:"#30a68f",calendarJewelgreen:"#148f33",calendarPurple:"#a250e8",calendarPurpleMask7:"rgba(162,80,232,0.07)",calendarPurpleMask10:"rgba(162,80,232,0.1)",mediumPurple3:"#dab9f6",mediumPurple3Mask10:"rgba(218,185,246,0.1)",dropmenuGray:"#4f515d",menuGray:"#4f515d",yellowHighlight:"#ffeca0",desaturatedReddit:"#ea794f",desaturatedTwitter:"#64a9d4",desaturatedYoutube:"#cf5c58",facebook:"#335a9e",whatsapp:"#25d366",github:"#24292e",twitch:"#9146ff",patreon:"#ff424d",vimeo:"#1ab7ea",gilded:"#f5c400",orangeRed:"#ff4500",gameNavBlack:"#32343d",white:"#fff",gilded2:"#f8d64c",gilded2Mask5:"rgba(248,214,76,0.05)",gilded2Mask7:"rgba(248,214,76,0.07)",gilded2Mask10:"rgba(248,214,76,0.1)",gilded2Mask20:"rgba(248,214,76,0.2)",gilded2Mask50:"rgba(248,214,76,0.5)",nuxBlueDesaturatedMask7:"rgba(174,189,252,0.07)",restGet:"#335a9e",restPost:"#6cba50",restPut:"#d89332",restPatch:"#4f515d",restDelete:"#ff6b6b",mysteriousGray:"#212329",backgroundBlack:"#1e2025",yellowThree:"#ffb400",calendarGreenDesaturated:"#476047",calendarRed:"#df5353",calendarRedMask30:"rgba(223,83,83,0.2)",calendarRedDesaturated:"#694148",druidOrange:"#e4b370",streamGradient:"linear-gradient(63.5deg, red -29.74%, #b258ff 83.36%)"},e.exports=t}}]);
//# sourceMappingURL=https://www.guilded.gg/e611d5e6/InvitePage.js.map